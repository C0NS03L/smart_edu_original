<% content_for :title, t('principals.manage_codes.page_title') %>
<div class="container mx-auto p-4">
  <h1 class="mb-6 text-3xl font-bold"><%= t('principals.manage_codes.heading') %></h1>

  <div class="mb-6 flex items-center justify-between">
    <%= link_to t('principals.manage_codes.generate_new_code'), generate_code_principal_path, class: 'btn btn-primary' %>
    <%= render 'shared/back_to_dashboard_button' %>
  </div>

  <div class="overflow-x-auto">
    <div id="flash"><%= render 'shared/flash' %></div>

    <%= render 'shared/delete_used_codes_button', codes: @enrollment_codes, delete_path: delete_used_codes_principal_path %>
    <%= render 'shared/enrollment_code_filters', base_path: manage_codes_principal_path %>
    <%= render 'shared/enrollment_codes_table',
               enrollment_codes: @enrollment_codes,
               show_type: true,
               delete_path: ->(code) { delete_code_principal_path(code) } %>
  </div>
</div>

<% content_for :title, t('staffs.manage_codes.page_title') %>
<div class="container mx-auto p-4">
  <h1 class="mb-6 text-3xl font-bold"><%= t('staffs.manage_codes.heading') %></h1>

  <div class="mb-6 flex items-center justify-between">
    <%= link_to t('staffs.manage_codes.generate_new_code'), staffs_generate_code_path, class: 'btn btn-primary' %>
    <%= render 'shared/back_to_dashboard_button' %>
  </div>

  <div class="overflow-x-auto">
    <div id="flash"><%= render 'shared/flash' %></div>

    <%= render 'shared/delete_used_codes_button', codes: @enrollment_codes, delete_path: staffs_delete_used_codes_path %>
    <%= render 'shared/enrollment_code_filters', base_path: staffs_manage_codes_path %>
    <%= render 'shared/enrollment_codes_table',
               enrollment_codes: @enrollment_codes,
               show_type: false,
               delete_path: ->(code) { staffs_delete_code_path(code) } %>
  </div>
</div>
